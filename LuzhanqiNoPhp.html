<!DOCTYPE html>
<html>
	<title>Lu Zhan Qi !</title>
	<head>
		<style>
			table {
			display: table;
			border-collapse: separate;
			border-spacing: 0px;
			border-color: gray;
			background-image: url("map.png");
			background-repeat: no-repeat;
			}
			body {
			background-color: lightgrey;
			}
			table, td {
			border: 0px dotted black;
			}
			td{
			width:85px;
			height: 38px;
			}
			td.hovered{
			background-color: rgba(60, 255, 4, 0.6);
			}
			div.pawn{
			background-color: lightblue; 
			width:80px; 
			height:30px; 
			border: 1px solid black;
			text-align: center;
			line-height: 30px;
			margin:auto;
			}
			div.enemy{
			background-color: black; 
			width:80px; 
			height:30px; 
			border: 1px solid red;
			text-align: center;
			line-height: 30px;
			color:white;
			margin:auto;
			}
			div.info{
			position: absolute;
			top:380px;
			left:820px;
			text-align:center;
			width:300px;
			background-color: white;
			border: 1px solid black;
			}
			button{
			margin: auto;
			display: block;
			width: 140px;
			}
			#msg{
			width:294px;
			height: 60px;
			margin: 2px;
			background-color: #FFF788;
			border: 1px solid black;
			font-size: 17px;
			}
		</style>
		
	</head>
	<body>
		<table style = " width:802px; height:918px; text-align:center">
			<tr>
				<td class="cell" id = 0></td>
				<td class="cell" id = 1></td>
				<td class="cell" id = 2></td>
				<td class="cell" id = 3></td>
				<td class="cell" id = 4></td>
			</tr>
			<tr>
				<td class="cell" id = 10></td>
				<td class="cell" id = 11></td>
				<td class="cell" id = 12></td>
				<td class="cell" id = 13></td>
				<td class="cell" id = 14></td>
			</tr>
			<tr>
				<td class="cell" id = 20></td>
				<td class="cell" id = 21></td>
				<td class="cell" id = 22></td>
				<td class="cell" id = 23></td>
				<td class="cell" id = 24></td>
			</tr>
			<tr>
				<td class="cell" id = 30></td>
				<td class="cell" id = 31></td>
				<td class="cell" id = 32></td>
				<td class="cell" id = 33></td>
				<td class="cell" id = 34></td>
			</tr>
			<tr>
				<td class="cell" id = 40></td>
				<td class="cell" id = 41></td>
				<td class="cell" id = 42></td>
				<td class="cell" id = 43></td>
				<td class="cell" id = 44></td>
			</tr>
			<tr>
				<td class="cell" id = 50></td>
				<td class="cell" id = 51></td>
				<td class="cell" id = 52></td>
				<td class="cell" id = 53></td>
				<td class="cell" id = 54></td>
			</tr>
			<tr style = "height:55px;"><!--row7-->
				<td class="cell" id = 60></td>
				<td class="cell" id = 61></td>
				<td class="cell" id = 62></td>
				<td class="cell" id = 63></td>
				<td class="cell" id = 64></td>
			</tr>
			<tr>
				<td class="cell" id = 70></td>
				<td class="cell" id = 71></td>
				<td class="cell" id = 72></td>
				<td class="cell" id = 73></td>
				<td class="cell" id = 74></td>
			</tr>
			<tr>
				<td class="cell" id = 80></td>
				<td class="cell" id = 81></td>
				<td class="cell" id = 82></td>
				<td class="cell" id = 83></td>
				<td class="cell" id = 84></td>
			</tr>
			<tr>
				<td class="cell" id = 90></td>
				<td class="cell" id = 91></td>
				<td class="cell" id = 92></td>
				<td class="cell" id = 93></td>
				<td class="cell" id = 94></td>
			</tr>
			<tr>
				<td class="cell" id = 100></td>
				<td class="cell" id = 101></td>
				<td class="cell" id = 102></td>
				<td class="cell" id = 103></td>
				<td class="cell" id = 104></td>
			</tr>
			<tr>
				<td class="cell" id = 110></td>
				<td class="cell" id = 111></td>
				<td class="cell" id = 112></td>
				<td class="cell" id = 113></td>
				<td class="cell" id = 114></td>
			</tr>
			<tr>
				<td class="cell" id = 120></td>
				<td class="cell" id = 121></td>
				<td class="cell" id = 122></td>
				<td class="cell" id = 123></td>
				<td class="cell" id = 124></td>
			</tr>
		</table>
		<div class="info">
			<div id="msg">Please put the pawns onto the board, then press START GAME button.</div> 
			<br>
			<button id="start" type="button" onclick="start()">START GAME</button>
			<br>
			<button type="button" onclick="reset()">RESET</button>
			<br>
			<div class="pawn 1" id="P1-1">工兵</div>
			<div class="pawn 1" id="P1-2">工兵</div>
			<div class="pawn 1" id="P1-3">工兵</div>
			<div class="pawn 2" id="P2-1">排長</div>
			<div class="pawn 2" id="P2-2">排長</div>
			<div class="pawn 2" id="P2-3">排長</div>
			<div class="pawn 3" id="P3-1">連長</div>
			<div class="pawn 3" id="P3-2">連長</div>
			<div class="pawn 3" id="P3-3">連長</div>
			<div class="pawn 4" id="P4-1">營長</div>
			<div class="pawn 4" id="P4-2">營長</div>
			<div class="pawn 5" id="P5-1">團長</div>
			<div class="pawn 5" id="P5-2">團長</div>
			<div class="pawn 6" id="P6-1">旅長</div>
			<div class="pawn 6" id="P6-2">旅長</div>
			<div class="pawn 7" id="P7-1">師長</div>
			<div class="pawn 7" id="P7-2">師長</div>
			<div class="pawn 8" id="P8-1">軍長</div>
			<div class="pawn 9" id="P9-1">司令</div>
			<div class="pawn M" id="PM-1">地雷</div>
			<div class="pawn M" id="PM-2">地雷</div>
			<div class="pawn M" id="PM-3">地雷</div>
			<div class="pawn B" id="PB-1">炸彈</div>
			<div class="pawn B" id="PB-2">炸彈</div>
			<div class="pawn F" id="PF-1">軍旗</div>
		</div>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
		<script type="text/javascript">			
			
			var gameStart = 0;
			var map = new Array(13);	//store class of pawn, allow comparison (battle) between pawns
			var locat = new Array(13);	//store id of pawn, for obtaining pawns' location
			var land = new Array(13);	//store the info about the location, etc. campsite, HQ, railroad
			var win = 0;
			
			$( init );
			
			function init() {			
				boardInit();
				$('div.pawn').draggable({
					cursor:'move',
					start: dragging,
					revert: "invalid",
					stop: stopDragging,
				});
				$('td').droppable( {
					accept: 'div.pawn',
					hoverClass: 'hovered',
					drop: dropping
				});
				playerSetup();
				enemySetup();
			}
			
			function boardInit(){
				for (var i = 0; i < 13; i++) {
					map[i] = [0,0,0,0,0];
				}		
				for (var i = 0; i < 13; i++) {
					locat[i] = ["-5","-5","-5","-5","-5"];
				}		
				
				for (var i = 0; i < 13; i++) {
					if(i == 0 || i == 12){//HQ
						land[i] = ["0","HQ","0","HQ","0"];
						}else if (i == 2 || i == 4 || i == 8 || i == 10){//camp 1
						land[i] = ["0","CA","0","CA","0"];
						}else if (i == 3 || i == 9){//camp 2
						land[i] = ["0","0","CA","0","0"];
						}else if (i == 1 || i == 5 || i == 7 || i == 11){//railroad 1
						land[i] = ["RA","RA","RA","RA","RA"];
						}else{
						land[i] = ["0","0","0","0","0"];
					}
				}		
				for (var i = 1; i < 12; i++) {//railroad 2
					land[i][0] = "RA";
					land[i][4] = "RA";
				}
				land[6][2] = "RA";
				land[6][1] = "HILL";//hill
				land[6][3] = "HILL";
			}
			
			function dragging(event, ui){
				$( this ).css( "border", "2px solid #FF3300" );
				$( this ).css( "color", "#FF3300" );
				$( this ).css("opacity", "0.65");
			}
			
			function stopDragging(event, ui){
				$( this ).css( "border", "1px solid black" );
				$( this ).css("opacity", "1");
				$( this ).css( "color", "black" );
				$( this ).animate( {height: '28px', width: '74px'}, 150);
				$( this ).animate( {height: '30px', width: '80px'}, 150);
			}
			
			function dropping(event, ui){
				drop(ui.draggable,this.id);
				ui.draggable.position( { of: $(this), my: 'center center', at: 'center center' } );
			}
			
			function start() {
				gameStart = 1;
				$( "#msg" ).html("Game start!");
			}
			
			function reset(){location.reload();}
			
			function drop(draggedUI,droppedID) {
				/* if(!turn){	//not this player's turn
					return false;
				} */
				var data = draggedUI.attr("id");			//dragged pawn id
				var cell = droppedID;						//cell (dropped into) id
				var pawn = document.getElementById(data);	//pawn as HTML DOM element
				var td = document.getElementById(cell);		//cell as HTML DOM element
				//find the location of the pawn that is moving
				var x = -1;
				var y = -1;
				for (var i = 0; i < 13; i++) {
					for(var k = 0; k < 5; k++){
						if(locat[i][k] == data){
							x = k;
							y = i;
						}
					}
				}
				var x2 = cell%10;
				var y2 = parseInt(cell/10);
				
				//now we have the previous location, pawn can only move to combination of (x+1 x x-1, y+1 y y-1)
				var absX = Math.abs(x - x2);
				var absY = Math.abs(y - y2);
				
				if (gameStart == 0){//player setting up	
					swapPawns(draggedUI,data,cell,pawn,td,x,y,x2,y2,absX,absY);
				}
				//////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				else{//after setup, during the game	
					if(comparePawns(draggedUI,data,cell,pawn,td,x,y,x2,y2,absX,absY) == false){
						return false;
					}
					//check if enemy flag is lost
					checkFlag("P");
					//enemy's turn;
					if(win == 0){
						//enemy();
					}
					//write to txt file
				}
			}
			
			function swapPawns(draggedUI,data,cell,pawn,td,x,y,x2,y2,absX,absY){
				//cancel: move into the same location
				if((absX == 0) && (absY == 0)){ draggedUI.draggable( 'option', 'revert', true ); return false;}
				
				//cancel: cant put in enemy's territory and campsite
				if(y2 <= 6 || (y2 == 8 && (x2 == 1 || x2 == 3)) || (y2 == 9 && x2 == 2) || (y2 == 10 && (x2 == 1 || x2 == 3))){
					$( "#msg" ).html("Set up your army in your territory but not in your campsite!");
					draggedUI.draggable( 'option', 'revert', true );
					return false;
				}
				//cancel: Must put flag in Headquarters
				if(pawn.classList[1] == "F"){
					if(y2 != 12 || (y2 == 12 && (x2 != 1 && x2 != 3))){
						$( "#msg" ).html("Must put flag in Headquarters.");
						draggedUI.draggable( 'option', 'revert', true );
						return false;
					}
				}
				//cancel: Can't put bomb in first row
				if(pawn.classList[1] == "B" && (y2 == 7)){
					$( "#msg" ).html("Can't put bomb in first row.");
					draggedUI.draggable( 'option', 'revert', true );
					return false;
				}
				//cancel: Must put mine in last 2 rows
				if(pawn.classList[1] == "M" && (y2 != 11 && y2 != 12)){
					$( "#msg" ).html("Must put mine in last 2 rows.");
					draggedUI.draggable( 'option', 'revert', true );
					return false;
				}
				//okay:	
				var prevLocat = document.getElementById((y*10+x));
				$(td).append(pawn);
				$(prevLocat).append(td.childNodes[0]);
				setTimeout(function(){ map[y][x] = prevLocat.childNodes[0].classList[1]; },3);
				setTimeout(function(){ locat[y][x] = prevLocat.childNodes[0].id; },4);
				setTimeout(function(){ map[y2][x2] = pawn.classList[1]; },5);
				setTimeout(function(){ locat[y2][x2] = pawn.id; },6);
				/* 				setTimeout(function(){ console.log(map[y][x]);},7);
					setTimeout(function(){ console.log(locat[y][x]);},8);
					setTimeout(function(){ console.log(map[y2][x2]);},9);
					setTimeout(function(){ console.log(locat[y2][x2]);},10);
				*/				
				/* 				//if player is moving the pawn not setting:
					if(x != -1 && y != -1){
					map[y][x] = 0;
					locat[y][x] = "-5";
					}
				*/				$( "#msg" ).html("Pawns swapped.");
			}
			
			function comparePawns(draggedUI,data,cell,pawn,td,x,y,x2,y2,absX,absY){
				//cancel: move into the same location
				if((absX == 0) && (absY == 0)){ draggedUI.draggable( 'option', 'revert', true ); return false;}
				
				//cancel: attack ally
				var res = locat[y2][x2].search(/P/i);
				if(res != -1) {//if res return correctly
					$( "#msg" ).html("Don't attack your ally!!!");
					draggedUI.draggable( 'option', 'revert', true );
					return false;
				}
				//cancel: cant move mine
				if(pawn.classList[1] == "M"){
					$( "#msg" ).html("Mine can't move!");
					draggedUI.draggable( 'option', 'revert', true );
					return false;
				}
				//cancel: cant go into mountain
				if((y2 == 6 && x2 == 1) || (y2 == 6 && x2 == 3)){
					$( "#msg" ).html("Don't run into the mountain!");
					draggedUI.draggable( 'option', 'revert', true );
					return false;
				}
				//cancel: cant get out of headquarters
				if((y == 12 && x == 1) || (y == 12 && x == 3) || (y == 0 && x == 1) || (y == 0 && x == 1)){
					$( "#msg" ).html("Can't get out of headquarters!");
					draggedUI.draggable( 'option', 'revert', true );
					return false;
				}
				//cancel: cant fight with enemy in campsite
				if(land[y2][x2] == "CA" && map[y2][x2] != 0){
					$( "#msg" ).html("Can't fight with enemy in Campsite!");
					draggedUI.draggable( 'option', 'revert', true );
					return false;
				}
				
				//from tr 11/12 to 12/11 and 0/1 to 1/0, pawn can only move up/down!
				if(((y == 12 && y2 == 11) || (y == 11 && y2 == 12) || (y == 0 && y2 == 1) || (y == 1 && y2 == 0)) && absX == 1){
					$( "#msg" ).html("Can't move like this here.");
					draggedUI.draggable( 'option', 'revert', true );
					return false;
				}
				
				//@ tr 12 or 0, pawn can only move left/right!
				if((y == 12 || y == 0) && (absY == 1 && absX == 1)) {
					$( "#msg" ).html("Can't move like this here.");
					draggedUI.draggable( 'option', 'revert', true );
					return false;
				}
				console.log(map[y2][x2]);
				console.log(pawn.classList[1]);
				//okay to move:
				if((absX == 1 || absX == 0) && (absY == 1 || absY == 0)){ //on normal road
					
				}
				else if(land[y][x] == "RA" && land[y2][x2] == "RA"){ //on railroad
					
					if((absX >0 && absY==0) || (absY >0 && absX==0)){ //if pawn stay on correct Railroad
						if(absY>0){//if moving up/down
							if(y > y2){//moving up
								if(land[y-1][x] != "RA" ){
									$( "#msg" ).html("Don't jump across railroad."); 
									draggedUI.draggable( 'option', 'revert', true );
									return false;
								}
								else{//loop to see until there is pawn blocking on the road
									for (var i = (y-1); i > y2; i--) {
										if(map[i][x] != 0){
											$( "#msg" ).html("Pawn is blocking railroad.");
											draggedUI.draggable( 'option', 'revert', true );
											return false;
										}
									}											
								}
							}
							else{//moving down
								if(land[y+1][x] != "RA" ){
									$( "#msg" ).html("Don't jump across railroad."); 
									draggedUI.draggable( 'option', 'revert', true );
									return false;
								}
								else{//loop to see until there is pawn blocking on the road
									for (var i = (y+1); i < y2; i++) {
										if(map[i][x] != 0){
											$( "#msg" ).html("Pawn is blocking railroad.");
											draggedUI.draggable( 'option', 'revert', true );
											return false;
										}
									}											
								}
							}
						}
						else{//moving left/right
							if(x > x2){
								if(land[y][x-1] != "RA" ){
									$( "#msg" ).html("Don't jump across railroad."); 
									draggedUI.draggable( 'option', 'revert', true );
									return false;
								}
								else{//loop to see until there is pawn blocking on the road
									for (var i = (x-1); i > x2; i--) {
										if(map[y][i] != 0){
											$( "#msg" ).html("Pawn is blocking railroad.");
											draggedUI.draggable( 'option', 'revert', true );
											return false;
										}
									}											
								}
							}
							else{
								if(land[y][x+1] != "RA" ){
									$( "#msg" ).html("Don't jump across railroad."); 
									draggedUI.draggable( 'option', 'revert', true );
									return false;
								}
								else{//loop to see until there is pawn blocking on the road
									for (var i = x+1; i < x2; i++) {
										if(map[y][i] != 0){
											$( "#msg" ).html("Pawn is blocking railroad.");
											draggedUI.draggable( 'option', 'revert', true );
											return false;
										}
									}		
								}
							}
						}
					}
					else{
						$( "#msg" ).html("Don't jump across railroad.");
						draggedUI.draggable( 'option', 'revert', true );
						return false; //wrong railroad, cancel
					}						
				}
				else{//cancel: moving not according to the rules
					$( "#msg" ).html("Please move your pawn according to the rules.");
					draggedUI.draggable( 'option', 'revert', true );
					return false;
				}
				//do the comparison
				if(map[y2][x2] == "F"){//encounter flag
					if(pawn.classList[1] == "B"){//byebye bomb
						var prevLocat = document.getElementById((y*10+x));
						prevLocat.removeChild(prevLocat.childNodes[0]);
						map[y][x] = 0;
						locat[y][x] = "-5";
						shake(td.childNodes[0]);
						$( "#msg" ).html("Enemy pawn wins!");					
					}
					else{//bye flag
						td.replaceChild(pawn,td.childNodes[0]);
						map[y2][x2] = pawn.classList[1];
						locat[y2][x2] = pawn.id;
						map[y][x] = 0;
						locat[y][x] = "-5";
						shake(td.childNodes[0]);
						$( "#msg" ).html("Your pawn wins!");
					}
				}
				else if(map[y2][x2] == "M"){//encounter mine
					if(pawn.classList[1] == "1"){//byebye mine
						td.replaceChild(pawn,td.childNodes[0]);
						map[y2][x2] = pawn.classList[1];
						locat[y2][x2] = pawn.id;
						map[y][x] = 0;
						locat[y][x] = "-5";
						shake(td.childNodes[0]);
						$( "#msg" ).html("Your pawn wins!");
						
					}
					else{//bye myself and mine
						var prevLocat = document.getElementById((y*10+x));
						prevLocat.removeChild(prevLocat.childNodes[0]);
						td.removeChild(td.childNodes[0]);
						map[y2][x2] = 0;
						locat[y2][x2] = "-5";
						map[y][x] = 0;
						locat[y][x] = "-5";
						explode(td);
						$( "#msg" ).html("Both pawns die together!");
					}
				}
				else if(map[y2][x2] == "B" || (pawn.classList[1] == "B" && map[y2][x2] != 0)){//encounter bomb or pawn is bomb
					var prevLocat = document.getElementById((y*10+x));
					prevLocat.removeChild(prevLocat.childNodes[0]);
					td.removeChild(td.childNodes[0]);
					map[y2][x2] = 0;
					locat[y2][x2] = "-5";
					map[y][x] = 0;
					locat[y][x] = "-5";
					explode(td);
					$( "#msg" ).html("Both pawns die together!");
				}
				else if((map[y2][x2] < pawn.classList[1]) && map[y2][x2] != 0){//encounter weak
					td.replaceChild(pawn,td.childNodes[0]);
					map[y2][x2] = pawn.classList[1];
					locat[y2][x2] = pawn.id;
					map[y][x] = 0;
					locat[y][x] = "-5";
					shake(td.childNodes[0]);
					$( "#msg" ).html("Your pawn wins!");
				}
				else if(map[y2][x2] > pawn.classList[1]){//encounter strong
					var prevLocat = document.getElementById((y*10+x));
					prevLocat.removeChild(prevLocat.childNodes[0]);
					map[y][x] = 0;
					locat[y][x] = "-5";
				 	shake(td.childNodes[0]);
					$( "#msg" ).html("Enemy pawn wins!");
				}
				else if(map[y2][x2] == pawn.classList[1]){//encounter same
					var prevLocat = document.getElementById((y*10+x));
					prevLocat.removeChild(prevLocat.childNodes[0]);
					td.removeChild(td.childNodes[0]);
					map[y2][x2] = 0;
					locat[y2][x2] = "-5";
					map[y][x] = 0;
					locat[y][x] = "-5";
					explode(td);
					$( "#msg" ).html("Both pawns die together!");
				}
				else if(map[y2][x2] == 0){//no encounter
					td.appendChild(pawn);
					map[y2][x2] = pawn.classList[1];
					locat[y2][x2] = pawn.id;
					map[y][x] = 0;
					locat[y][x] = "-5";
				}
				return true;
			}
			
			function checkFlag(who){
				if (who == "P"){
					if(document.getElementById("EF-1") == null){
						winning();
					}
				}
				else if (who == "E"){
					if(document.getElementById("PF-1") == null){
						losing();
					}
				}
			}
			
			function losing(){
				$( "#msg" ).html("You lose... Reset the game to play again!");
				alert("You lose!");
				$("div").attr("draggable", false);
			}
			
			function winning() {
				$( "#msg" ).html("You win!!! Reset to play again!");
				alert("You win!");
				$("div").attr("draggable", false);
				win = 1;
			}
			
			function shake(el){
				setTimeout(function(){el.style.transform = "rotate(10deg)";},50);
				setTimeout(function(){el.style.transform = "rotate(-10deg)";},100);
				setTimeout(function(){el.style.transform = "rotate(10deg)";},150);
				setTimeout(function(){el.style.transform = "rotate(0deg)";},200);
			}
			
			function explode(el){
				setTimeout(function(){$( el ).css( "background-image", "url('explode.png')" );},50);
				setTimeout(function(){$( el ).css( "background-image", "none" );},250);
			}
			
			function playerSetup(){
				var j = 0;
				for (var i = 7; i < 13; i++) {
					for(var k = 0; k < 5; k++){
						if((i == 8 || i == 10)&& (k == 1 || k == 3)){
							continue;
						}
						if(i == 9 && k == 2){
							continue;
						}
						if(i == 12 && k == 3){ //put flag here
							document.getElementById("123").appendChild($(".pawn").get("24"));
							map[12][3] = $(".pawn").get("24").classList[1];
							locat[12][3] = $(".pawn").get("24").id;
							j++;
							continue;
						}
						//append to the table cell
						if(j < 25){
							document.getElementById((i*10+k)).appendChild($(".pawn").get(j));
							map[i][k] = $(".pawn").get(j).classList[1];
							locat[i][k] = $(".pawn").get(j).id;
							j++;
						}
					}
				}
			}
			
			function enemySetup(){ //maybe delete?
				var f = new Array(25);
				var counter = 0;
				for (var i = 0; i < 25; i++) {
					f[i] = document.createElement("DIV");
					f[i].setAttribute("draggable", "false");
					f[i].innerHTML = "敵";
				}
				
				for (var i = 0; i < 6; i++) {
					for(var k = 0; k < 5; k++){
						if((i == 2 || i == 4)&& (k == 1 || k == 3)){
							continue;
						}
						if(i == 3 && k == 2){
							continue;
						}
						document.getElementById((i*10+k)).appendChild(f[counter]);
						counter++;
					}
				}
				counter = 0;
				
				map[0][0] = 1;
				locat[0][0] = "E1-1";
				f[counter].setAttribute("class", "enemy 1");			
				f[counter].setAttribute("id", "E1-1");			
				counter++;
				
				map[0][1] = -1;//class
				locat[0][1] = "EF-1";//id
				f[counter].setAttribute("class", "enemy F");
				f[counter].setAttribute("id", "EF-1");
				counter++;
				
				map[0][2] = 1;
				locat[0][2] = "E1-2";
				f[counter].setAttribute("class", "enemy 2");			
				f[counter].setAttribute("id", "E1-2");			
				counter++;
				
				map[0][3] = 9;
				locat[0][3] = "E9-1";
				f[counter].setAttribute("class", "enemy 9");			
				f[counter].setAttribute("id", "E9-1");			
				counter++;
				
				map[0][4] = 1;
				locat[0][4] = "E1-3";
				f[counter].setAttribute("class", "enemy 1");			
				f[counter].setAttribute("id", "E1-3");			
				counter++;
				
				map[1][0] = "M";
				locat[1][0] = "EM-1";
				f[counter].setAttribute("class", "enemy M");			
				f[counter].setAttribute("id", "EM-1");			
				counter++;
				
				map[1][1] = "M";
				locat[1][1] = "EM-2";
				f[counter].setAttribute("class", "enemy M");			
				f[counter].setAttribute("id", "EM-2");			
				counter++;
				
				map[1][2] = "M";
				locat[1][2] = "EM-3";
				f[counter].setAttribute("class", "enemy M");			
				f[counter].setAttribute("id", "EM-3");			
				counter++;
				
				map[1][3] = 2;
				locat[1][3] = "E2-1";
				f[counter].setAttribute("class", "enemy 2");			
				f[counter].setAttribute("id", "E2-1");			
				counter++;
				
				map[1][4] = 2;
				locat[1][4] = "E2-2";
				f[counter].setAttribute("class", "enemy 2");			
				f[counter].setAttribute("id", "E2-2");			
				counter++;
				
				map[2][0] = 2;
				locat[2][0] = "E2-3";
				f[counter].setAttribute("class", "enemy 2");			
				f[counter].setAttribute("id", "E2-3");			
				counter++;
				
				map[2][2] = "B";
				locat[2][2] = "EB-2";
				f[counter].setAttribute("class", "enemy B");			
				f[counter].setAttribute("id", "EB-2");			
				counter++;
				
				map[2][4] = "3";
				locat[2][4] = "E3-1";
				f[counter].setAttribute("class", "enemy 3");			
				f[counter].setAttribute("id", "E3-1");			
				counter++;
				
				map[3][0] = "B";
				locat[3][0] = "EB-1";
				f[counter].setAttribute("class", "enemy B");			
				f[counter].setAttribute("id", "EB-1");			
				counter++;
				
				map[3][1] = "3";
				locat[3][1] = "E3-2";
				f[counter].setAttribute("class", "enemy 3");			
				f[counter].setAttribute("id", "E3-2");			
				counter++;
				
				map[3][3] = "3";
				locat[3][3] = "E3-3";
				f[counter].setAttribute("class", "enemy 3");			
				f[counter].setAttribute("id", "E3-3");			
				counter++;
				
				map[3][4] = "4";
				locat[3][4] = "E4-1";
				f[counter].setAttribute("class", "enemy 4");			
				f[counter].setAttribute("id", "E4-1");			
				counter++;
				
				map[4][0] = "4";
				locat[4][0] = "E4-2";
				f[counter].setAttribute("class", "enemy 4");			
				f[counter].setAttribute("id", "E4-2");			
				counter++;
				
				map[4][2] = "5";
				locat[4][2] = "E5-1";
				f[counter].setAttribute("class", "enemy 5");			
				f[counter].setAttribute("id", "E5-1");			
				counter++;
				
				map[4][4] = "5";
				locat[4][4] = "E5-2";
				f[counter].setAttribute("class", "enemy 5");			
				f[counter].setAttribute("id", "E5-2");			
				counter++;
				
				map[5][0] = "6";
				locat[5][0] = "E6-2";
				f[counter].setAttribute("class", "enemy 6");			
				f[counter].setAttribute("id", "E6-2");			
				counter++;
				
				map[5][1] = "6";
				locat[5][1] = "E6-1";
				f[counter].setAttribute("class", "enemy 6");			
				f[counter].setAttribute("id", "E6-1");			
				counter++;
				
				map[5][2] = "7";
				locat[5][2] = "E7-1";
				f[counter].setAttribute("class", "enemy 7");			
				f[counter].setAttribute("id", "E7-1");			
				counter++;
				
				map[5][3] = "7";
				locat[5][3] = "E7-2";
				f[counter].setAttribute("class", "enemy 7");			
				f[counter].setAttribute("id", "E7-2");			
				counter++;
				
				map[5][4] = "8";
				locat[5][4] = "E8-1";
				f[counter].setAttribute("class", "enemy 8");			
				f[counter].setAttribute("id", "E8-1");			
				counter++;
			}
			
		</script>
	</body>
</html>
